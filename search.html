<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="globals.css" />
  <link rel="stylesheet" href="search.css" />
  <link rel="stylesheet" href="menu.css" />
  <script src="search.js" defer></script>
</head>
<body>
  <div class="search-page">
    <div class="div">
      <div class="overlap">
        <div class="frame"></div>
        <a href="home.html"><img class="image" src="Images/draftdecklogo2.png" alt="Go to Home"/> </a>
        <div class="text-wrapper">Search</div>
        <!-- Reusable Menu Placeholder -->
<div id="menu-placeholder"></div>

        <div class="component">
          <div class="overlap-5">
            <div class="text-wrapper-6">Search</div>
            <img class="search" src="Images/Search 01.svg" />
            <div class="rectangle-4"></div>
            <img class="filter" src="Images/Filter.svg" />
          </div>
        </div>
      </div>
      <div id="filter-menu" style="display: none; position: absolute; top: 335px; right: 300px; background: white; padding: 25px; border: 1px solid #ccc;">
        <p>Filter Options:</p>
        <label><input type="checkbox" value="players"> Players</label><br>
        <label><input type="checkbox" value="teams"> Teams</label><br>
        <label><input type="checkbox" value="cards"> Cards</label>
      </div>
      <div class="group">
      </div>
    </div>
  </div>
  <!-- Load and activate the reusable menu -->
<script>
  fetch("menu.html")
    .then((res) => res.text())
    .then((data) => {
      document.getElementById("menu-placeholder").innerHTML = data;

      // Reattach menu functionality after it's loaded
      const menuIcon = document.getElementById("menu-icon");
      const menu = document.getElementById("menu");

      menuIcon.addEventListener("click", function (event) {
        event.stopPropagation();
        menu.style.display = menu.style.display === "block" ? "none" : "block";
      });

      document.addEventListener("click", function (event) {
        if (!menu.contains(event.target) && event.target !== menuIcon) {
          menu.style.display = "none";
        }
      });

      document.querySelectorAll("#menu a").forEach((link) => {
        link.addEventListener("click", function () {
          menu.style.display = "none";
        });
      });
    });
</script>

</body>
</html>
